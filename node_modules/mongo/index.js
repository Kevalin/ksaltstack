var mongoose = require('mongoose');

var action = {
    save: function(dbname, schema, value, callback) {
        var db = mongoose.createConnection('mongodb://192.168.10.91:27017/' + dbname);
        
        db.on('error', function(err) {
            console.log('Mongodb Error: %s', err)
        });
        
        var mySchema = new mongoose.Schema(schema);
        var myModel = db.model(dbname, mySchema);
        var tempValue = myModel(value);
        
        return tempValue.save(callback)
    },
    remove: function(dbname, schema, value, callback) {
        var db = mongoose.createConnection('mongodb://192.168.10.91:27017/' + dbname);
        
        db.on('error', function(err) {
            console.log('Mongodb Error: %s', err)
        });
        
        var mySchema = new mongoose.Schema(schema);
        var myModel = db.model(dbname, mySchema);
        var tempValue = myModel(value);
        
        return tempValue.remove(callback)
    },
}